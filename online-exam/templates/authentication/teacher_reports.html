{% extends 'base.html' %}
{% block title %}Performance Reports{% endblock %}
{% block content %}
<h2>Performance Reports</h2>

<h3>By Student</h3>
<table border="1" cellpadding="6">
  <tr><th>Student</th><th>Attempts</th><th>Total</th><th>Average</th></tr>
  {% for row in by_student %}
  <tr>
    <td>{{ row.student__username }}</td>
    <td>{{ row.attempts }}</td>
    <td>{{ row.total|default:0 }}</td>
    <td>{{ row.avg|floatformat:2 }}</td>
  </tr>
  {% empty %}
  <tr><td colspan="4">No data</td></tr>
  {% endfor %}
</table>

<h3>By Question</h3>
<table border="1" cellpadding="6">
  <tr><th>Question ID</th><th>Attempts</th><th>Average</th></tr>
  {% for row in by_question %}
  <tr>
    <td>{{ row.question_id }}</td>
    <td>{{ row.attempts }}</td>
    <td>{{ row.avg|floatformat:2 }}</td>
  </tr>
  {% empty %}
  <tr><td colspan="3">No data</td></tr>
  {% endfor %}
</table>
{% endblock %}


