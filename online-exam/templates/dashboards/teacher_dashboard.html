{% extends 'base.html' %}
{% block title %}Teacher Dashboard{% endblock %}
{% block content %}
<h2>Teacher Dashboard</h2>
<ul>
    <li><a href="{% url 'questions_list' %}">Manage Questions</a></li>
    <li><a href="{% url 'submissions_list' %}">All Submissions</a></li>
    <li><a href="{% url 'teacher_reports' %}">Performance Reports</a></li>
    <li><a href="{% url 'logout' %}">Logout</a></li>
</ul>

<h3>Latest Submissions</h3>
<table border="1" cellpadding="6">
  <tr>
    <th>ID</th>
    <th>Student</th>
    <th>Question</th>
    <th>Submitted</th>
    <th>Graded</th>
    <th>Score</th>
    <th>Action</th>
  </tr>
  {% for s in latest_submissions %}
  <tr>
    <td>{{ s.id }}</td>
    <td>{{ s.student.username }}</td>
    <td>{{ s.question.id }}</td>
    <td>{{ s.submitted_at }}</td>
    <td>{{ s.graded }}</td>
    <td>{% if s.score is not None %}{{ s.score }}{% else %}-{% endif %}</td>
    <td><a href="{% url 'grade_submission' s.id %}">Grade</a></td>
  </tr>
  {% empty %}
  <tr><td colspan="7">No submissions yet.</td></tr>
  {% endfor %}
</table>
{% endblock %}
